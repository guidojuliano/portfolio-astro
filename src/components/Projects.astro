---
import { Image } from "astro:assets";
import Badge from "./Badge.astro";
import GithubIcon from "./icons/Github.astro";
import quixImage from "../media/images/quix.jpg";
import arkanoidImage from "../media/images/arkanoid.jpg";
import artworksImage from "../media/images/artworks.jpg";
import { getLangFromUrl, useTranslations } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const PROJECTS = [
  {
    title: t("projects.project1"),
    description: t("projects.description1"),
    link: "https://quix-next.vercel.app",
    github: "https://github.com/guidojuliano/quix-next",
    image: quixImage,
    tags: [
      "TypeScript",
      "Sass",
      "Next.js",
      "Shopify",
      "Figma",
      "Postman",
      "GraphQL",
    ],
  },
  {
    title: "Arkanoid",
    description: t("projects.description2"),
    link: "https://arkanoid-js.vercel.app/",
    github: "https://github.com/guidojuliano/ArkanoidJS",
    image: arkanoidImage,
    tags: ["JavaScript", "CSS", "HTML"],
  },
  {
    title: "Artworks",
    description: t("projects.description3"),
    link: "https://artworksguido.vercel.app/",
    github: "https://github.com/guidojuliano/spa-artworks-nbch",
    image: artworksImage,
    tags: ["JavaScript", "CSS", "HTML", "ReactJS", "MaterialUI"],
  },
];
---

{
  PROJECTS.map((project) => (
    <article class="py-5">
      <h3 class="text-2xl font-semibold text-yellow-200/90">{project.title}</h3>
      <p class="text-fuchsia-200">{project.description}</p>
      <a href={project.link} target="_blank" rel="noopener">
        <Image
          class="my-3 rounded shadow-2xl shadow-white/10"
          src={project.image}
          alt="Screenshot of project"
        />
      </a>

      <ul class="flex py-2 flex-wrap gap-1">
        {project.tags.map((tag) => (
          <li>
            <Badge class="bg-blue-200/90 text-purple-900">{tag}</Badge>
          </li>
        ))}
      </ul>
      <a href={project.github} target="_blank" rel="noopener">
        <button
          type="button"
          class="mt-3 text-blue-100 bg-blue-200/20 hover:bg-fuchsia-800 transition focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800 gap-x-2"
        >
          <GithubIcon class="size-4" />
          {t("projects.button")}
        </button>
      </a>
    </article>
  ))
}
